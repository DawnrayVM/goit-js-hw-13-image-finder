{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./templates/image-card.hbs"],"names":["api","url","imageType","imageOrientation","page","perPage","key","fetchImages","query","fetch","then","res","json","require","defaults","styling","icons","mode","delay","refs","searchForm","document","querySelector","gallery","btnLoadMore","userQuery","renderMarkup","hits","totalHits","value","error","title","text","success","markup","imageCard","insertAdjacentHTML","classList","remove","addEventListener","e","preventDefault","innerHTML","apiService","add","catch","console","log","target","dataset","action","setTimeout","window","scrollTo","top","documentElement","offsetHeight","behavior","basicLightbox","event","source","show","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","lambda","alias2","escapeExpression","alias3","nullContext","alias4","hooks","helperMissing","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.e8b57e4ac63a17940403.js","sourcesContent":["// const apiKey = '20341451-3d1090cbc297b1fd4b3b8fcd1'; { webformatURL, likes, views, comments, downloads }\r\n// const apiUrl = `https://pixabay.com/api/?key=${apiKey}&image_type=photo&orientation=horizontal&q=`;\r\n\r\nexport const api = {\r\n  url: 'https://pixabay.com/api/',\r\n  imageType: 'image_type=photo',\r\n  imageOrientation: 'orientation=horizontal',\r\n  page: 1,\r\n  perPage: 'per_page=12',\r\n  key: 'key=20341451-3d1090cbc297b1fd4b3b8fcd1',\r\n};\r\n\r\nexport function fetchImages(query, page = api.page) {\r\n  return fetch(\r\n    `${api.url}?${api.key}&${api.imageType}&${api.imageOrientation}&page=${page}&${api.perPage}&q=${query}`,\r\n  ).then(res => res.json());\r\n}\r\n","import './sass/styles.scss';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nrequire('typeface-roboto');\r\nrequire('basiclightbox/dist/basicLightbox.min.css');\r\nimport { error, success } from '@pnotify/core/dist/PNotify.js';\r\nconst { defaults } = require('@pnotify/core');\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\ndefaults.mode = 'light';\r\ndefaults.delay = '1500';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport * as apiService from './js/apiService.js';\r\nimport imageCard from '../src/templates/image-card.hbs';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('.search-form'),\r\n  gallery: document.querySelector('.gallery'),\r\n  btnLoadMore: document.querySelector('.js-btn-load-more'),\r\n  userQuery: document.querySelector('[name=\"query\"]'),\r\n};\r\n\r\nfunction scrollToEnd() {\r\n  setTimeout(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.offsetHeight - 900,\r\n      behavior: 'smooth',\r\n    });\r\n  }, 300);\r\n}\r\n\r\nfunction renderMarkup({ hits, totalHits }) {\r\n  if (totalHits === 0 || refs.userQuery.value === '') {\r\n    return error({\r\n      title: 'Oops...',\r\n      text: `Can\\'t find images with such tag`,\r\n    });\r\n  }\r\n  success({\r\n    text: 'Matches found!',\r\n  });\r\n  const markup = imageCard(hits);\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n  refs.btnLoadMore.classList.remove('is-hidden');\r\n}\r\n\r\nfunction resetSearch() {\r\n  refs.userQuery.value = '';\r\n  refs.btnLoadMore.classList.add('is-hidden');\r\n  refs.gallery.innerHTML = '';\r\n  apiService.api.page = 1;\r\n}\r\n\r\nfunction renderMore() {\r\n  apiService.api.page += 1;\r\n  apiService\r\n    .fetchImages(refs.userQuery.value, apiService.api.page)\r\n    .then(({ hits }) => {\r\n      const markup = imageCard(hits);\r\n      refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n      scrollToEnd();\r\n    });\r\n}\r\n\r\nfunction modalHandler() {\r\n  const instance = basicLightbox.create(`\r\n    <div class=\"modal\">\r\n    <img src=\"${event.target.dataset.source}\">\r\n    </div>\r\n`);\r\n  instance.show();\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  refs.gallery.innerHTML = '';\r\n  apiService.api.page = 1;\r\n  refs.btnLoadMore.classList.add('is-hidden');\r\n  apiService\r\n    .fetchImages(refs.userQuery.value)\r\n    .then(renderMarkup)\r\n    .catch(console.log);\r\n});\r\n\r\nrefs.searchForm.addEventListener('click', e => {\r\n  if (e.target.dataset.action === 'clear') {\r\n    resetSearch();\r\n  }\r\n});\r\n\r\nrefs.btnLoadMore.addEventListener('click', renderMore);\r\n\r\nrefs.gallery.addEventListener('click', modalHandler);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <div class=\\\"img-container\\\">\\r\\n        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\\\" width=\\\"295\\\" data-source=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":12},\"end\":{\"line\":13,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":12},\"end\":{\"line\":17,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":12},\"end\":{\"line\":21,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}